<div *ngIf="hasSearched">
    <h1 class="mat-h1" style="text-align: center;" *ngIf="!searchResults || !searchResults.length">
        No records found.
    </h1>
    <h1 class="mat-h1" style="text-align: center;" *ngIf="searchResults?.length">
        Found {{ searchResults.length}} records
    </h1>
</div>
<div style="display:flex; justify-content: space-around;" [style.display]="searchResults.length ? 'block' : 'none'">
    <mat-card class="bedes-card" style="margin:10px; flex: 1;">
        <mat-card-content>
            <div>
                <div style="display:flex;">
                    <mat-form-field style="flex:1;">
                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
                    </mat-form-field>
                </div>
                <div style="display:flex;">
                    <table mat-table matSort [dataSource]="dataSource" style="flex:1;">
                        <ng-container matColumnDef="buttons">
                            <th mat-header-cell *matHeaderCellDef></th>
                            <td mat-cell *matCellDef="let element" style="width: 80px;">
                                <button mat-mini-fab color="accent" (click)="viewTerm(element)">
                                    <fa-icon [icon]="['fas', 'search']">
                                    </fa-icon>
                                </button>
                            </td>
                        </ng-container>

                        <!-- Name -->
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                            <td mat-cell *matCellDef="let element" style="width: 200px;"> {{element.name}} </td>
                        </ng-container>

                        <!-- Description -->
                        <ng-container matColumnDef="description">
                            <th mat-header-cell *matHeaderCellDef>Description</th>
                            <td mat-cell *matCellDef="let element"> {{element.description}} </td>
                        </ng-container>

                        <!-- Term Category -->
                        <ng-container matColumnDef="termCategoryId">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
                            <td mat-cell *matCellDef="let element" style="width: 100px;">
                                {{element.termCategoryId | bedesTermCategory}}
                            </td>
                        </ng-container>

                        <!-- Data Type -->
                        <ng-container matColumnDef="dataTypeId">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Data Type</th>
                            <td mat-cell *matCellDef="let element" style="width: 100px;">
                                {{element.dataTypeId | bedesDataType}}
                            </td>
                        </ng-container>

                        <!-- Unit Id-->
                        <ng-container matColumnDef="unitId">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Unit</th>
                            <td mat-cell *matCellDef="let element" style="width: 100px;">
                                {{element.unitId | bedesUnit}}
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>

                </div>
                <mat-paginator pageSize="10" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
            </div>
        </mat-card-content>
    </mat-card>
</div>
